{% extends "app/plugins/templates/base.html" %}


{% block content %}
    <h3><i class="fa fa-cloud fa-fw"></i> Mesos 管理界面</h3>

    <details> 
    <p>Mesos 是 Apache 下的开源分布式资源管理框架。</p>
    <p>Mesos 实现了两级调度架构，它可以管理多种类型的应用程序。第一级调度是 Master 的守护进程，管理 Mesos 集群中所有节点上运行的 Slave 守护进程。集群由物理服务器或虚拟服务器组成，用于运行应用程序的任务，比如 Hadoop 和 MPI 作业。第二级调度由被称作 Framework 的“组件”组成。Framework 包括调度器（Scheduler）和执行器（Executor）进程，其中每个节点上都会运行执行器。Mesos 能和不同类型的 Framework 通信，每种 Framework 由相应的应用集群管理。</p>
    <img width="512" src="/plugins/mesos/m.jpg" alt="mesos structure" />
    </details>
    <p>
    {% if not form.token.value %}
    <h4> 配置步骤 </h4>
    <ol>
        <li>配置<a href="https://http://mesos.apache.org/" target="_blank">Mesos</a>集群.</li>
        <!-- <li>Navigate to your OAM profile page (click your user's avatar) and press the <b>Request 3rd Party API Token</b> button.</li> -->
        <li>在Token栏中填入Mesos集群管理地址</li>
    </ol>
    {% endif %}

    <form action="" method="post" class="oam-form oam-token-form">
        <h4>Mesos集群 管理地址</h4>
        {% csrf_token %}
        {% include "app/plugins/templates/form.html" %}
        <button type="submit" class="btn btn-primary"><i class="fa fa-save fa-fw"></i>保存</i></button>
        <button type="button" class="btn btn-success" onClick="javascript:load_home();"><i class="fa fa-file fa-fw"></i>刷新</i></button>
    </form>
    <p></p>
        <div class="full-height" id="viewDiv" width="100%" style="border: none; display: block; background-color: grey; min-height: 420px; width: 100%;" class="full-height" >
        </div>
    <script>
        function load_home() {
            document.getElementById("viewDiv").innerHTML = '<object type="text/html" data="http://199.60.17.41:8088" width="100%" height="1080px" display:block </object>';
        }
    </script>

{% endblock %}